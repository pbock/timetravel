"use strict";var Clock=function(t){var n;var e,i;var r=1;var u={};var s;var a={time:new Date,speed:1,earliest:0,latest:Infinity};function f(t){if(!u[t])return;for(var n=0,e=u[t].length;n<e;n++){u[t][n](c())}}function o(){return(new Date).valueOf()}function c(){var t=e+r*a.speed*h();return p(t)}function h(){return o()-i}function l(){e=c();i=o()}function p(t){return Math.max(a.earliest,Math.min(a.latest,t))}function v(){var t=c();if(t!==s)f("tick");s=t;d(v)}var d;try{d=window.requestAnimationFrame}catch(t){d=function(t){setTimeout(t,20)}}function m(t){if(t===n)return a.speed;l();a.speed=t;f("speedchange");return this}function w(){if(!r){l();r=1;f("play")}return this}function g(){if(r){l();r=0;f("pause")}return this}function k(){return!r}function y(){return r}function O(t){l();e=p(t.valueOf());return this}function C(){return c()}function D(){return new Date(c())}function x(t){if(t===n)return C();O(t);f("timechange");return this}function E(){return a.earliest}function M(){return a.latest}function b(t,n){t=t.split(" ");t.forEach(function(t){if(!u[t])u[t]=[];u[t].push(n)});return this}if(t){Object.keys.forEach(function(n){if(t.hasOwnProperty(n))a[n]=t[n]})}O(a.time.valueOf());d(v);this.time=x;this.get=C;this.date=D;this.speed=m;this.earliest=E;this.latest=M;this.start=w;this.pause=g;this.paused=k;this.running=y;this.set=O;this.on=b};module.exports={Clock:Clock};